{% extends "/layout/base.html" %}
{% block content %}

    {% if register == True %}
    <form action="{{ url_for('register') }}" method="POST"> 
    {% else %}
    <form action="{{ url_for('login') }}" method="POST">
    {% endif %}
        <div class="row">
            <div class="col-md-8 mx-auto border border-light p-5">
                <p class="h4 mb-4 text-center">
                    {% if register == True %} Register to RSVP {% else %} Sign In {% endif %}
                </p>
                {% if register == True %} 
                    <p class="text-center">
                        Attending as a group? You can RSVP for them too. Let us know who's attending by registering below.
                    </p>       
                {% endif %}      
                <label for="username">Username</label>
                <input id="username" name="username" type="text" class="form-control mb-4 validate" pattern="[a-zA-Z0-9]+" title="Only letters (either case) and numbers. No special characters" required>
                {% if register == True %}
                    <p class="pattern">Username can only have letters (either case) and numbers. No special characters</p><br>
                {% endif %}
            
                <label class="labels" for="password">Password</label>
                <input id="password" name="password" type="password" class="form-control mb-4 validate" pattern="^[a-zA-Z0-9]{8,20}$" title="At least eight characters and one digit" required>
                {% if register == True %}
                    <span class="pattern">Password should include at least 8 characters and 1 digit</span>
                {% endif %}
                <div class="col d-flex justify-content-center">
                    <button class="btn btn-info my-4" type="submit">
                        {% if register == True %} Register now {% else %} Sign In {% endif %}
                    </button>
                </div>
                <div class="col text-center">
                    {% if register == True %}
                        <p>
                            Already got an account? <strong><a href="{{ url_for('login') }}">Log in</a></strong> to view or edit your RSVP.
                        </p>
                    {% else %}
                        <p>
                            Not got an account yet? <strong><a href="{{ url_for('register') }}">RSVP</a></strong> to create one.
                        </p>
                    {% endif %}
                    <div class="col s12 link-container">
                        <a href="{{ url_for('home') }}" class="form-buttons">Go back to the home page</a>
                    </div>
                </div>
            </div>
        </div>
    </form>

{% endblock %}